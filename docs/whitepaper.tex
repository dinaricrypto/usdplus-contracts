\documentclass[sigconf,nonacm,prologue,table]{acmart}
\usepackage{listings}

%% labels
%% sections:    "sec"
%% definitions: "def"
%% equations:   "eq"
%% figures:     "fig"
%% tables:      "tab"

%% packages
\usepackage{amsmath}
% \usepackage{pgfplots}
\usepackage{subcaption}
\usepackage{commath}
\usepackage[utf8]{inputenc}
% \usetikzlibrary{positioning, arrows.meta, shapes, calc}
%% \usepackage{tikz}
\usepackage{graphicx}
\usepackage{afterpage}

\pagenumbering{arabic}

%% hide ACM reference
\settopmatter{printacmref=false}

%% hide copyright
\renewcommand\footnotetextcopyrightpermission[1]{}

%% \pagestyle{plain}
\settopmatter{printfolios=true}

% \numberwithin{equation}{section}

% \theoremstyle{definition}
% \newtheorem{definition}{Definition}

% \theoremstyle{remark}
% \newtheorem*{remark}{Remark}

\begin{document}
\title{USD+ Whitepaper}
\subtitle{Feb 2024}
\date{Feb 2024}

\author{Jake Timothy}
\affiliation{}
\email{jake@dinari.com}

\begin{teaserfigure}
\caption*{
    \hspace{\textwidth}
    }
\end{teaserfigure}

\renewcommand{\shortauthors}{Timothy}

\begin{abstract}

    The USD+ protocol provides a convenient USD denominated way for people to earn low risk yield on chain. The protocol consists of two tokens, the first (USD+) to provide a clear unit of value, and the second (Staked USD+) to accumulate generated yield.

\end{abstract}

\maketitle

\section{Introduction}
\label{sec:introduction}

The USD+ token is a dollar denominated digital token. The protocol mints and redeems 1 USD+ token for \$ 1 USD value. When USD+ tokens are deposited into the Staked USD+ contract, they earn - with some restrictions - the yield generated by the protocol.

The protocol earns yield by investing the funds and tokens used to mint USD+ tokens into fixed income assets, initially short duration US Treasury bills. When the investments generate yield, increasing the total value of the assets backing USD+, that yield is shared with Staked USD+ holders by minting a corresponding amount of USD+ and adding it to the value of USD+ held by the Staked USD+ contract.

\section{System Architecture} 
\label{sec:system}

\subsection{USD+ Token}

The USD+ Token is an ERC20 compliant fungible token to facilitate interoperability and composability with common blockchain applications and accounting systems.

\subsection{Staked USD+ Token}

The Staked USD+ Token is an ERC4626 compliant fungible token vault. USD+ is deposited into the Staked USD+ smart contract in order to earn from the yield generated by the Reserves. Users can withdraw USD+ from the Staked USD+ contract at any time, but may forfeit their earned yield if they have withdrawn their Staked USD+ position within the minimum holding period. More on this in Section~3.

\subsection{Reserves Vault}

The Reserves Vault is an onchain account holding the onchain portion of the assets backing the value of USD+ including yield generating tokenized assets. The Reserves Vault will primary invest in short duration US Treasury bills directly or indirectly.

\subsection{Minter}

The Minter handles USD+ minting. It maintains list of approved payment tokens and their price oracles. USD+ is always minted at 1 USD+ = 1 USD. When a user calls `deposit` on the Minter smart contract, the deposit is processed immediately, sending payment token to the Reserves Vault and minting USD+ at the current oracle price for that payment token.

\subsection{Redeemer}

The Redeemer handles USD+ burning. It also maintains a list of approved payment tokens and their price oracles. USD+ is always burned at 1 USD+ = 1 USD. Burning USD+ and sending payment token to the user is a two step process that can take up to 2 business days to process. There may be delays that take up to 2 days to process when liquidating the underlying investments and converting to the requested payment token for distribution. When a user calls `requestRedeem` on the Redeemer smart contract, the USD+ is escrowed on the Redeemer contract and the payment token price is taken at that time and the payment token amount is fixed for that request. The protocol will then fulfill the request if payment token is available in the Reserves Vault, or rebalance assets and tokens to make payment token available before fulfilling the redemption request.

\section{Earning and Lockups}
\label{sec:lockups}

Many existing protocols for yield on staked stablecoins offer daily or continuous yield distributions. Often times to accomplish this, yield revenue is held back and distributed over time rather than as soon as it is available. USD+ is designed to provide access to the underlying revenue as soon as possible. When distributions are available, that value is minted to Staked USD+ holders in its entirety. In order to prevent economic exploits of this feature, a minimum holding period is enforced for newly minted Staked USD+.

When a user deposits USD+ for staking, a "lock" is created for that amount which expires after the minimum holding period. If the user then withdraws or unstakes enough USD+ to dip into the locked amount. Any yield accrued on the lock amount being withdrawn is forfeited back to the Staked USD+ contract. Locks are consumed most recent first to provide the user with the best chance to benefit from staking.

In the case of transfers, if the transferred amount is large enough to cut into the locks for the sending account, a new lock will be created on the recipient's account for the sum of locked tokens sent and the minimum holding period will be reset for that lock.

The locking mechanism design maximizes yield accrual and enables the free exchange of Staked USD+ while minimizing the number of locks to manage and mitigating exploitative mechanics.

\section{Summary}

The USD+ protocol provides a convenient and effective access point to low risk yield on chain. The protocol is designed to be simple and transparent, and to provide a clear and stable value for users. It is also designed to be flexible and to be able to adapt to changing market conditions and user needs.

% \bibliographystyle{ACM-Reference-Format}
% \bibliography{whitepaper}

\section*{Disclaimer}

This paper is for general information purposes only. It does not constitute investment advice or a recommendation or solicitation to buy or sell any investment and should not be used in the evaluation of the merits of making any investment decision. It should not be relied upon for accounting, legal or tax advice or investment recommendations.  This paper reflects current opinions of the authors. The opinions reflected herein are subject to change without being updated. 

\end{document}
